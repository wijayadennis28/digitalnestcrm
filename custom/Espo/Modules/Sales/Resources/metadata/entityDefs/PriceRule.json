{
    "fields": {
        "name": {
            "type": "varchar",
            "readOnly": true,
            "notStorable": true
        },
        "description": {
            "type": "text"
        },
        "priceBook": {
            "type": "link",
            "required": true,
            "view": "sales:views/product-price/fields/link-with-status",
            "autocompleteOnEmpty": true
        },
        "target": {
            "type": "enum",
            "options": [
                "Product Category",
                "All",
                "Conditional"
            ],
            "maxLength": 16,
            "view": "sales:views/price-rule/fields/target"
        },
        "status": {
            "type": "enum",
            "options": [
                "Active",
                "Inactive"
            ],
            "maxLength": 8,
            "default": "Active",
            "style": {
                "Inactive": "info"
            }
        },
        "productCategory": {
            "type": "link",
            "view": "views/fields/link-category-tree",
            "validatorClassNameList": [
                "Espo\\Modules\\Sales\\Classes\\FieldValidators\\PriceRule\\ProductCategory\\Required"
            ]
        },
        "conditionSelect": {
            "type": "enum",
            "notStorable": true,
            "view": "sales:views/price-rule/fields/condition-select",
            "directAccessDisabled": true,
            "directUpdateDisabled": true
        },
        "condition": {
            "type": "link",
            "validatorClassNameList": [
                "Espo\\Modules\\Sales\\Classes\\FieldValidators\\PriceRule\\Condition\\Required",
                "Espo\\Modules\\Sales\\Classes\\FieldValidators\\PriceRule\\Condition\\Exists"
            ]
        },
        "minQuantity": {
            "type": "float",
            "minValue": 0.0,
            "tooltip": true
        },
        "basedOn": {
            "type": "enum",
            "options": [
                "Unit",
                "Price Book",
                "Supplier",
                "Cost"
            ],
            "default": "Unit",
            "maxLength": 10,
            "tooltip": true
        },
        "supplier": {
            "type": "link",
            "validatorClassNameList": [
                "Espo\\Modules\\Sales\\Classes\\FieldValidators\\PriceRule\\Supplier\\Required"
            ]
        },
        "price": {
            "type": "base",
            "notStorable": true,
            "notSortable": true,
            "directAccessDisabled": true,
            "view": "sales:views/price-rule/fields/price"
        },
        "percentage": {
            "type": "base",
            "notStorable": true,
            "tooltip": true,
            "directAccessDisabled": true,
            "view": "sales:views/price-rule/fields/percentage"
        },
        "discount": {
            "type": "float",
            "max": 100.0,
            "tooltip": true,
            "view": "sales:views/price-rule/fields/discount"
        },
        "roundingMethod": {
            "type": "enum",
            "options": [
                "Half Up",
                "Up",
                "Down"
            ],
            "default": "Half Up",
            "maxLength": 7
        },
        "roundingFactor": {
            "type": "float",
            "min": 0.001,
            "required": true,
            "tooltip": true,
            "default": 0.01
        },
        "surcharge": {
            "type": "float",
            "tooltip": true
        },
        "currency": {
            "type": "enum",
            "maxLength": 3,
            "validatorClassNameList": [
                "Espo\\Modules\\Sales\\Classes\\FieldValidators\\PriceRule\\Currency\\Valid"
            ],
            "view": "sales:views/price-rule/fields/currency",
            "tooltip": true
        },
        "dateStart": {
            "type": "date"
        },
        "dateEnd": {
            "type": "date"
        },
        "createdAt": {
            "type": "datetime",
            "readOnly": true
        },
        "modifiedAt": {
            "type": "datetime",
            "readOnly": true
        },
        "createdBy": {
            "type": "link",
            "readOnly": true
        },
        "modifiedBy": {
            "type": "link",
            "readOnly": true
        }
    },
    "links": {
        "productCategory": {
            "type": "belongsTo",
            "entity": "ProductCategory"
        },
        "condition": {
            "type": "belongsTo",
            "entity": "PriceRuleCondition"
        },
        "priceBook": {
            "type": "belongsTo",
            "foreign": "priceRules",
            "entity": "PriceBook"
        },
        "supplier": {
            "type": "belongsTo",
            "entity": "Supplier"
        },
        "createdBy": {
            "type": "belongsTo",
            "entity": "User"
        },
        "modifiedBy": {
            "type": "belongsTo",
            "entity": "User"
        }
    },
    "collection": {
        "orderBy": "createdAt",
        "order": "desc",
        "textFilterFields": []
    }
}
